{"version":3,"sources":["file:///Users/dima/Library/Caches/hugo_cache/modules/filecache/modules/pkg/mod/github.com/dmashchenko/blog-hugo-theme@v0.0.0-20251228151130-0c51d97e0dff/assets/js/theme.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n    const themeSwitcher = document.querySelector('a[href=\"#\"][data-name=\"Mode\"]');\n    let icon = null; // Initialize icon to null\n\n    // Function to set the theme\n    function setTheme(theme) {\n        if (theme === 'dark') {\n            document.body.classList.add('dark-mode');\n            if (icon) { // Only modify icon if it exists\n                icon.classList.remove('fa-moon');\n                icon.classList.add('fa-sun');\n            }\n            localStorage.setItem('theme', 'dark');\n        } else {\n            document.body.classList.remove('dark-mode');\n            if (icon) { // Only modify icon if it exists\n                icon.classList.remove('fa-sun');\n                icon.classList.add('fa-moon');\n            }\n            localStorage.setItem('theme', 'light');\n        }\n    }\n\n    if (themeSwitcher) {\n        icon = themeSwitcher.querySelector('i'); // Query icon only if themeSwitcher is found\n    }\n    \n    // Check for saved theme preference, or use OS preference\n    const savedTheme = localStorage.getItem('theme');\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n    if (savedTheme) {\n        setTheme(savedTheme);\n    } else if (prefersDark) {\n        setTheme('dark');\n    } else {\n        setTheme('light');\n    }\n\n    // Listen for changes in OS preference\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e =\u003e {\n        // Only change the theme if the user hasn't manually set one\n        if (!localStorage.getItem('theme')) {\n            if (e.matches) {\n                setTheme('dark');\n            } else {\n                setTheme('light');\n            }\n        }\n    });\n\n    // Handle theme switching\n    if (themeSwitcher) {\n        themeSwitcher.addEventListener('click', function (e) {\n            e.preventDefault();\n            // When user manually switches, we use the opposite of the currently set theme\n            const currentThemeIsDark = document.body.classList.contains('dark-mode');\n            if (currentThemeIsDark) {\n                setTheme('light');\n            } else {\n                setTheme('dark');\n            }\n        });\n    }\n});"],"mappings":";;AAAA,WAAS,iBAAiB,oBAAoB,WAAY;AACtD,UAAM,gBAAgB,SAAS,cAAc,+BAA+B;AAC5E,QAAI,OAAO;AAGX,aAAS,SAAS,OAAO;AACrB,UAAI,UAAU,QAAQ;AAClB,iBAAS,KAAK,UAAU,IAAI,WAAW;AACvC,YAAI,MAAM;AACN,eAAK,UAAU,OAAO,SAAS;AAC/B,eAAK,UAAU,IAAI,QAAQ;AAAA,QAC/B;AACA,qBAAa,QAAQ,SAAS,MAAM;AAAA,MACxC,OAAO;AACH,iBAAS,KAAK,UAAU,OAAO,WAAW;AAC1C,YAAI,MAAM;AACN,eAAK,UAAU,OAAO,QAAQ;AAC9B,eAAK,UAAU,IAAI,SAAS;AAAA,QAChC;AACA,qBAAa,QAAQ,SAAS,OAAO;AAAA,MACzC;AAAA,IACJ;AAEA,QAAI,eAAe;AACf,aAAO,cAAc,cAAc,GAAG;AAAA,IAC1C;AAGA,UAAM,aAAa,aAAa,QAAQ,OAAO;AAC/C,UAAM,cAAc,OAAO,WAAW,8BAA8B,EAAE;AAEtE,QAAI,YAAY;AACZ,eAAS,UAAU;AAAA,IACvB,WAAW,aAAa;AACpB,eAAS,MAAM;AAAA,IACnB,OAAO;AACH,eAAS,OAAO;AAAA,IACpB;AAGA,WAAO,WAAW,8BAA8B,EAAE,iBAAiB,UAAU,OAAK;AAE9E,UAAI,CAAC,aAAa,QAAQ,OAAO,GAAG;AAChC,YAAI,EAAE,SAAS;AACX,mBAAS,MAAM;AAAA,QACnB,OAAO;AACH,mBAAS,OAAO;AAAA,QACpB;AAAA,MACJ;AAAA,IACJ,CAAC;AAGD,QAAI,eAAe;AACf,oBAAc,iBAAiB,SAAS,SAAU,GAAG;AACjD,UAAE,eAAe;AAEjB,cAAM,qBAAqB,SAAS,KAAK,UAAU,SAAS,WAAW;AACvE,YAAI,oBAAoB;AACpB,mBAAS,OAAO;AAAA,QACpB,OAAO;AACH,mBAAS,MAAM;AAAA,QACnB;AAAA,MACJ,CAAC;AAAA,IACL;AAAA,EACJ,CAAC;","names":[]}